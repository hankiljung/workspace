<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 해당 파일에 모든 쿼리문을 작성 -->
<!-- namespace에는 xml파일과 연결할 Mapper interface 파일명을 패키지를 포함하여 적어주세요 -->
<mapper namespace="com.green.book_shop.book.mapper.BookMapper">

    <resultMap id="cate" type="BookCategoryDTO">
        <id property="cateCode" column="CATE_CODE"/>
        <result property="cateName"  column="CATE_NAME"/>
    </resultMap>

	<!--도서 카테고리 목록 조회 쿼리-->
    <select id="selectCate" resultMap="cate">
        SELECT
        CATE_NAME,
        CATE_CODE
        FROM BOOK_CATEGORY
        ORDER BY CATE_CODE
    </select>

    <!--도서 카테고리 등록 쿼리-->
    <insert id="insertCate" >
        INSERT INTO BOOK_CATEGORY(
        CATE_NAME
        )
        VALUES(
        #{cateName}
        )
    </insert>


    <!--카테고리명 중복 확인-->
    <select id="selectCateName" resultType="String" >
        SELECT CATE_NAME
        FROM BOOK_CATEGORY
        WHERE CATE_NAME = #{cateName}
    </select>

    <!--카테고리 삭제 쿼리-->
    <delete id="deleteCate">
        DELETE
        FROM BOOK_CATEGORY
        WHERE CATE_CODE = #{cateCode}
    </delete>

    <!--도서 등록 쿼리-->
    <insert id="insertBook">
        INSERT INTO BOOK(
        BOOK_NAME ,
        BOOK_PRICE ,
        PUBLISHER ,
        BOOK_INTRO ,
        CATE_CODE
        )
        VALUES (
        #{bookName} ,
        #{bookPrice} ,
        #{publisher} ,
        #{bookIntro} ,
        #{cateCode}
        )
    </insert>
</mapper>































